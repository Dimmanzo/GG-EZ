(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{12:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1amC6",NavLink:"NavBar_NavLink__34ons",Active:"NavBar_Active__3PBZb",Logo:"NavBar_Logo__OtxvA","navbar-toggler":"NavBar_navbar-toggler__2T6w8",CustomToggle:"NavBar_CustomToggle__3KYAE","navbar-toggler-icon":"NavBar_navbar-toggler-icon__3zYYg"}},13:function(e,t,a){e.exports={Container:"SignInUpForm_Container__2cuBp",Input:"SignInUpForm_Input__3xaLZ",Header:"SignInUpForm_Header__3joQJ",Link:"SignInUpForm_Link__1BeMm",Button:"SignInUpForm_Button__1GaGa"}},14:function(e,t,a){e.exports={HomePage:"MatchPage_HomePage__2WuJw",FilterBar:"MatchPage_FilterBar__kED7S",SearchInput:"MatchPage_SearchInput__38T8K",DateInput:"MatchPage_DateInput__36UEN",StatusSelect:"MatchPage_StatusSelect__pzNvF",ResetButton:"MatchPage_ResetButton__3-Wsu",MatchesContainer:"MatchPage_MatchesContainer__23dGO",MatchCard:"MatchPage_MatchCard__PzKFc",EventName:"MatchPage_EventName__ZQWP0",Teams:"MatchPage_Teams__3HWqC",MatchDate:"MatchPage_MatchDate__17ZKC",MatchStatus:"MatchPage_MatchStatus__2XlcU",MatchCardLink:"MatchPage_MatchCardLink__30ffc"}},19:function(e,t,a){e.exports={HomeContainer:"HomePage_HomeContainer__2Rq-h",HeroSection:"HomePage_HeroSection__1kzss",CTAButton:"HomePage_CTAButton__1yF_A",HighlightsSection:"HomePage_HighlightsSection__1bC3m",CardContainer:"HomePage_CardContainer__39sMR",Card:"HomePage_Card__5wJW-",DetailsLink:"HomePage_DetailsLink__1GOFs",NavigationSection:"HomePage_NavigationSection__3_jyg",NavLinks:"HomePage_NavLinks__1VS8R"}},2:function(e,t,a){e.exports={Container:"AdminShared_Container__2T0-I",Header:"AdminShared_Header__3wN8w",Button:"AdminShared_Button__2SGXV",DeleteButton:"AdminShared_DeleteButton__2hR2K",BackButton:"AdminShared_BackButton__3ebZW",TableWrapper:"AdminShared_TableWrapper__2ckB9",Table:"AdminShared_Table__2cRNO",Pagination:"AdminShared_Pagination__3vRCn",Form:"AdminShared_Form__PL2uA",FormHeader:"AdminShared_FormHeader__17FRp",FormGroup:"AdminShared_FormGroup__2fhJL",Label:"AdminShared_Label__3kkQT",Input:"AdminShared_Input__352ZU",ButtonGroup:"AdminShared_ButtonGroup__2jTGC",Avatar:"AdminShared_Avatar__1m8ka",SearchBar:"AdminShared_SearchBar__1-Z1T",EventsTable:"AdminShared_EventsTable__3ece0",MatchesTable:"AdminShared_MatchesTable__3OBap"}},20:function(e,t,a){e.exports={HomePage:"EventsPage_HomePage__1dQb4",EventsContainer:"EventsPage_EventsContainer__9UtLU",EventCard:"EventsPage_EventCard__32Vrt",EventDate:"EventsPage_EventDate__3LE0r",FilterBar:"EventsPage_FilterBar__3MUWM",SearchInput:"EventsPage_SearchInput__F5vFy",DateInput:"EventsPage_DateInput__1HOfL",ResetButton:"EventsPage_ResetButton__2D9Gh"}},24:function(e,t,a){e.exports={MatchContainer:"MatchDetailPage_MatchContainer__2ExjY",MatchTitle:"MatchDetailPage_MatchTitle__2dm_D",EventName:"MatchDetailPage_EventName__fAWwq",MatchDate:"MatchDetailPage_MatchDate__Ddmps",MatchStatus:"MatchDetailPage_MatchStatus__3lsQ0",MatchResult:"MatchDetailPage_MatchResult__5D_0Q",ActionContainer:"MatchDetailPage_ActionContainer__2bfln",BackButton:"MatchDetailPage_BackButton__5ox8W"}},28:function(e,t,a){e.exports={Button:"Button_Button__27i9m",Wide:"Button_Wide__2ScDr",Bright:"Button_Bright__1MBHR"}},29:function(e,t,a){e.exports={Footer:"Footer_Footer__9Y8xx",Container:"Footer_Container__bxtJm",Links:"Footer_Links__33hjc",FooterLink:"Footer_FooterLink__3QE7s",Copyright:"Footer_Copyright__1kjBy"}},30:function(e,t,a){e.exports={Container:"AdminPanel_Container__3ec4x",Header:"AdminPanel_Header__VZTSC",Options:"AdminPanel_Options__1qRZt",OptionCard:"AdminPanel_OptionCard__YEgIp",Button:"AdminPanel_Button__3GdBJ"}},31:function(e,t,a){e.exports={EventContainer:"EventDetailPage_EventContainer__3ziy5",EventTitle:"EventDetailPage_EventTitle__2bbpB",EventImage:"EventDetailPage_EventImage__3t_1J",EventDescription:"EventDetailPage_EventDescription__3Ln1H",ActionContainer:"EventDetailPage_ActionContainer__1PhW2",EventDate:"EventDetailPage_EventDate__luLOf",BackButton:"EventDetailPage_BackButton__1bB17"}},47:function(e,t,a){e.exports={App:"App_App__16ZpL",Main:"App_Main__HQkvd"}},49:function(e,t,a){e.exports={toast:"Toast_toast__wvE99",toastBody:"Toast_toastBody__1janM"}},98:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(33),n=a.n(c),r=a(8),l=a(10),o=(a(68),a(62)),i=a(47),d=a.n(i),j=a(102),m=a(104),u=a(12),h=a.n(u),b=a(5),O=a.n(b),p=a(0);const x=Object(s.createContext)(),v=Object(s.createContext)(),g=()=>Object(s.useContext)(v),_=e=>{let{children:t}=e;const[a,c]=Object(s.useState)(null),n=Object(l.f)(),r=Object(s.useCallback)((async()=>{try{await O.a.post("/dj-rest-auth/logout/"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),c(null),n.push("/signin")}catch(e){console.error("Error logging out:",e)}}),[n]),o=Object(s.useCallback)((async()=>{try{const{data:e}=await O.a.get("users/current-user-role/");c(e),localStorage.setItem("currentUser",JSON.stringify(e))}catch(e){console.error("Error fetching user role:",e),r()}}),[r]);return Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await O.a.get("/dj-rest-auth/user/");c(e),o()}catch(e){console.log("Error fetching current user:",e),r()}})()}),[r,o]),Object(s.useEffect)((()=>{const e=O.a.interceptors.response.use((e=>e),(async e=>{var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status))try{const{data:t}=await O.a.post("/dj-rest-auth/token/refresh/",{refresh:localStorage.getItem("refreshToken")}),a=t.access;return localStorage.setItem("accessToken",a),O.a.defaults.headers.common.Authorization="Bearer ".concat(a),e.config.headers.Authorization="Bearer ".concat(a),O()(e.config)}catch(a){console.log("Token refresh failed:",a),r()}return Promise.reject(e)}));return()=>{O.a.interceptors.response.eject(e)}}),[r]),Object(p.jsx)(x.Provider,{value:a,children:Object(p.jsx)(v.Provider,{value:{setCurrentUser:c,handleLogout:r},children:t})})};var N=()=>{const[e,t]=Object(s.useState)(!1),a=Object(s.useRef)(null);return Object(s.useEffect)((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&t(!1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),[a]),{expanded:e,setExpanded:t,ref:a}};var C=()=>{const e=Object(s.useContext)(x),{handleLogout:t}=g(),{expanded:a,setExpanded:c,ref:n}=N(),l=Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(j.a.Link,{className:h.a.NavLink,onClick:t,children:[Object(p.jsx)("i",{className:"fas fa-sign-out-alt"})," Log Out"]})}),i=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(r.c,{to:"/signin",className:h.a.NavLink,activeClassName:h.a.Active,children:[Object(p.jsx)("i",{className:"fas fa-sign-in-alt"})," Sign In"]}),Object(p.jsxs)(r.c,{to:"/signup",className:h.a.NavLink,activeClassName:h.a.Active,children:[Object(p.jsx)("i",{className:"fas fa-user-plus"})," Sign Up"]})]});return Object(p.jsx)(m.a,{expanded:a,expand:"md",fixed:"top",className:h.a.NavBar,children:Object(p.jsxs)(o.a,{children:[Object(p.jsx)(m.a.Brand,{className:h.a.Logo,children:"GG-EZ"}),Object(p.jsx)(m.a.Toggle,{"aria-controls":"basic-navbar-nav",ref:n,onClick:()=>c(!a),className:h.a.CustomToggle}),Object(p.jsx)(m.a.Collapse,{id:"basic-navbar-nav",style:{backgroundColor:"#1a1a1a"},children:Object(p.jsxs)(j.a,{className:"ml-auto text-left",children:[Object(p.jsxs)(r.c,{to:"/",exact:!0,className:h.a.NavLink,activeClassName:h.a.Active,children:[Object(p.jsx)("i",{className:"fas fa-home"})," Home"]}),Object(p.jsxs)(r.c,{to:"/events",className:h.a.NavLink,activeClassName:h.a.Active,children:[Object(p.jsx)("i",{className:"fas fa-calendar-alt"})," Events"]}),Object(p.jsxs)(r.c,{to:"/matches",className:h.a.NavLink,activeClassName:h.a.Active,children:[Object(p.jsx)("i",{className:"fas fa-gamepad"})," Matches"]}),"staff_user"===(null===e||void 0===e?void 0:e.role)&&Object(p.jsxs)(r.c,{to:"/admin",className:h.a.NavLink,activeClassName:h.a.Active,children:[Object(p.jsx)("i",{className:"fas fa-tools"})," Admin Panel"]}),e?l:i]})})]})})},f=a(29),S=a.n(f);var y=()=>Object(p.jsx)("footer",{className:S.a.Footer,children:Object(p.jsxs)("div",{className:S.a.Container,children:[Object(p.jsxs)("p",{className:S.a.Copyright,children:["\xa9 ",(new Date).getFullYear()," GG-EZ. All rights reserved."]}),Object(p.jsxs)("div",{className:S.a.Links,children:[Object(p.jsx)("a",{href:"#",className:S.a.FooterLink,children:"Privacy Policy"}),Object(p.jsx)("a",{href:"#",className:S.a.FooterLink,children:"Terms of Service"}),Object(p.jsx)("a",{href:"#",className:S.a.FooterLink,children:"Contact Us"})]})]})}),E=a(9),w=a(13),B=a.n(w),L=a(28),k=a.n(L),A=a(101),D=a(105),I=a(100);var P=()=>{var e,t,a,c,n,o;const[i,d]=Object(s.useState)({username:"",email:"",password1:"",password2:"",role:"default_user"}),{username:j,email:m,password1:u,password2:h,role:b}=i,[x,v]=Object(s.useState)({}),g=Object(l.f)(),_=e=>{d(Object(E.a)(Object(E.a)({},i),{},{[e.target.name]:e.target.value}))};return Object(p.jsxs)("div",{className:B.a.Container,children:[Object(p.jsx)("h1",{className:B.a.Header,children:"Sign Up"}),Object(p.jsxs)(A.a,{onSubmit:async e=>{e.preventDefault();try{await O.a.post("/dj-rest-auth/registration/",i),g.push("/signin")}catch(a){var t;v((null===(t=a.response)||void 0===t?void 0:t.data)||{})}},children:[Object(p.jsxs)(A.a.Group,{controlId:"username",children:[Object(p.jsx)(A.a.Label,{className:"d-none",children:"Username"}),Object(p.jsx)(A.a.Control,{className:B.a.Input,type:"text",placeholder:"Username",name:"username",value:j,onChange:_,required:!0})]}),null===(e=x.username)||void 0===e?void 0:e.map(((e,t)=>Object(p.jsx)(D.a,{variant:"warning",children:e},t))),Object(p.jsxs)(A.a.Group,{controlId:"email",children:[Object(p.jsx)(A.a.Label,{className:"d-none",children:"Email"}),Object(p.jsx)(A.a.Control,{className:B.a.Input,type:"email",placeholder:"Email",name:"email",value:m,onChange:_,required:!0})]}),null===(t=x.email)||void 0===t?void 0:t.map(((e,t)=>Object(p.jsx)(D.a,{variant:"warning",children:e},t))),Object(p.jsxs)(A.a.Group,{controlId:"password1",children:[Object(p.jsx)(A.a.Label,{className:"d-none",children:"Password"}),Object(p.jsx)(A.a.Control,{className:B.a.Input,type:"password",placeholder:"Password",name:"password1",value:u,onChange:_,required:!0})]}),null===(a=x.password1)||void 0===a?void 0:a.map(((e,t)=>Object(p.jsx)(D.a,{variant:"warning",children:e},t))),Object(p.jsxs)(A.a.Group,{controlId:"password2",children:[Object(p.jsx)(A.a.Label,{className:"d-none",children:"Confirm Password"}),Object(p.jsx)(A.a.Control,{className:B.a.Input,type:"password",placeholder:"Confirm Password",name:"password2",value:h,onChange:_,required:!0})]}),null===(c=x.password2)||void 0===c?void 0:c.map(((e,t)=>Object(p.jsx)(D.a,{variant:"warning",children:e},t))),Object(p.jsxs)(A.a.Group,{controlId:"role",children:[Object(p.jsx)(A.a.Label,{className:"d-none",children:"Role"}),Object(p.jsxs)(A.a.Control,{as:"select",className:B.a.Input,name:"role",value:b,onChange:_,children:[Object(p.jsx)("option",{value:"default_user",children:"Default User"}),Object(p.jsx)("option",{value:"staff_user",children:"Staff Member"})]})]}),null===(n=x.role)||void 0===n?void 0:n.map(((e,t)=>Object(p.jsx)(D.a,{variant:"warning",children:e},t))),Object(p.jsx)(I.a,{className:"".concat(k.a.Button," ").concat(k.a.Wide," ").concat(k.a.Bright),type:"submit",variant:"none",children:"Sign Up"}),null===(o=x.non_field_errors)||void 0===o?void 0:o.map(((e,t)=>Object(p.jsx)(D.a,{variant:"warning",className:"mt-3",children:e},t)))]}),Object(p.jsx)("div",{className:"mt-3",children:Object(p.jsxs)(r.b,{className:B.a.Link,to:"/signin",children:["Already have an account? ",Object(p.jsx)("span",{children:"Sign in"})]})})]})},F=a(103),M=a(49),T=a.n(M);var H=e=>{let{show:t,onClose:a,message:s,username:c}=e;return Object(p.jsx)(F.a,{onClose:a,show:t,delay:1e3,autohide:!0,className:T.a.toast,children:Object(p.jsxs)(F.a.Body,{className:T.a.toastBody,children:["You successfully logged in as"," ",Object(p.jsx)("span",{style:{color:"#00ff99",fontWeight:"bold"},children:c}),"!"]})})};var G=()=>{var e,t,a;const{setCurrentUser:c}=g(),[n,o]=Object(s.useState)({username:"",password:""}),{username:i,password:d}=n,[j,m]=Object(s.useState)({}),[u,h]=Object(s.useState)(!1),[b,x]=Object(s.useState)(""),v=Object(l.f)(),_=e=>{o(Object(E.a)(Object(E.a)({},n),{},{[e.target.name]:e.target.value}))};return Object(p.jsxs)("div",{className:B.a.Container,children:[Object(p.jsx)(H,{show:u,onClose:()=>h(!1),message:"You successfully logged in as",username:b}),Object(p.jsx)("h1",{className:B.a.Header,children:"Sign In"}),Object(p.jsxs)(A.a,{onSubmit:async e=>{e.preventDefault();try{const{data:e}=await O.a.post("/dj-rest-auth/login/",n),t=e.access_token;O.a.defaults.headers.common.Authorization="Bearer ".concat(t),localStorage.setItem("accessToken",t);const a=await O.a.get("users/current-user-role/");c(a.data),localStorage.setItem("currentUser",JSON.stringify(a.data)),x(a.data.username),h(!0),setTimeout((()=>{v.push("/")}),1e3)}catch(a){var t;console.error("Login failed:",a),m((null===(t=a.response)||void 0===t?void 0:t.data)||{})}},children:[Object(p.jsxs)(A.a.Group,{controlId:"username",children:[Object(p.jsx)(A.a.Label,{className:"d-none",children:"Username"}),Object(p.jsx)(A.a.Control,{type:"text",placeholder:"Username",name:"username",className:B.a.Input,value:i,onChange:_,required:!0})]}),null===(e=j.username)||void 0===e?void 0:e.map(((e,t)=>Object(p.jsx)(D.a,{variant:"warning",children:e},t))),Object(p.jsxs)(A.a.Group,{controlId:"password",children:[Object(p.jsx)(A.a.Label,{className:"d-none",children:"Password"}),Object(p.jsx)(A.a.Control,{type:"password",placeholder:"Password",name:"password",className:B.a.Input,value:d,onChange:_,required:!0})]}),null===(t=j.password)||void 0===t?void 0:t.map(((e,t)=>Object(p.jsx)(D.a,{variant:"warning",children:e},t))),Object(p.jsx)(I.a,{className:"".concat(k.a.Button," ").concat(k.a.Wide," ").concat(k.a.Bright),type:"submit",children:"Sign In"}),null===(a=j.non_field_errors)||void 0===a?void 0:a.map(((e,t)=>Object(p.jsx)(D.a,{variant:"warning",className:"mt-3",children:e},t)))]}),Object(p.jsx)("div",{className:"mt-3",children:Object(p.jsxs)(r.b,{className:B.a.Link,to:"/signup",children:["Don't have an account? ",Object(p.jsx)("span",{children:"Sign up now!"})]})})]})},U=a(19),R=a.n(U);var q=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)([]),[n,l]=Object(s.useState)(!0);return Object(s.useEffect)((()=>{let e=!0;return(async()=>{try{const{data:a}=await O.a.get("/events/");e&&t(a.results.slice(0,3))}catch(a){console.error("Error fetching events:",a)}})(),(async()=>{try{const{data:t}=await O.a.get("/matches/");e&&c(t.results.slice(0,3))}catch(t){console.error("Error fetching matches:",t)}})(),l(!1),()=>{e=!1}}),[]),n?Object(p.jsx)("p",{children:"Loading..."}):Object(p.jsxs)("div",{className:R.a.HomeContainer,children:[Object(p.jsxs)("section",{className:R.a.HeroSection,children:[Object(p.jsx)("h1",{children:"Welcome to Esports Event Tracker"}),Object(p.jsx)("p",{children:"Your one-stop solution for tracking esports events and matches."}),Object(p.jsx)(r.b,{to:"/events",className:R.a.CTAButton,children:"View Events"})]}),Object(p.jsxs)("section",{className:R.a.HighlightsSection,children:[Object(p.jsx)("h2",{children:"Upcoming Events"}),Object(p.jsx)("div",{className:R.a.CardContainer,children:e.length>0?e.map((e=>Object(p.jsxs)("div",{className:R.a.Card,children:[Object(p.jsx)("h3",{children:e.name}),Object(p.jsxs)("p",{children:[e.start_date," - ",e.end_date]}),Object(p.jsx)(r.b,{to:"/events/".concat(e.id),className:R.a.DetailsLink,children:"See Details"})]},e.id))):Object(p.jsx)("p",{children:"No upcoming events available."})})]}),Object(p.jsxs)("section",{className:R.a.HighlightsSection,children:[Object(p.jsx)("h2",{children:"Upcoming Matches"}),Object(p.jsx)("div",{className:R.a.CardContainer,children:a.length>0?a.map((e=>Object(p.jsxs)("div",{className:R.a.Card,children:[Object(p.jsxs)("h3",{children:[e.team1_name," vs ",e.team2_name]}),Object(p.jsx)("p",{children:e.scheduled_time}),Object(p.jsx)(r.b,{to:"/matches/".concat(e.id),className:R.a.DetailsLink,children:"See Details"})]},e.id))):Object(p.jsx)("p",{children:"No upcoming matches available."})})]})]})},W=a(20),z=a.n(W);var Z=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)([]),[n,l]=Object(s.useState)(!0),[o,i]=Object(s.useState)(""),[d,j]=Object(s.useState)(""),[m,u]=Object(s.useState)("");Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await O.a.get("/events/");t(e.results),c(e.results)}catch(e){console.error("Error fetching events:",e)}finally{l(!1)}})()}),[]);const h=Object(s.useCallback)((()=>{let t=[...e];o.trim()&&(t=t.filter((e=>e.name.toLowerCase().includes(o.toLowerCase())))),d&&(t=t.filter((e=>new Date(e.start_date)>=new Date(d)))),m&&(t=t.filter((e=>new Date(e.end_date)<=new Date(m)))),c(t)}),[e,o,d,m]);return Object(s.useEffect)((()=>{h()}),[h]),n?Object(p.jsx)("p",{children:"Loading..."}):Object(p.jsxs)("div",{className:z.a.HomePage,children:[Object(p.jsx)("h1",{children:"Upcoming Esports Events"}),Object(p.jsxs)("div",{className:z.a.FilterBar,children:[Object(p.jsx)("input",{type:"text",placeholder:"Search by event name...",value:o,onChange:e=>i(e.target.value),className:z.a.SearchInput}),Object(p.jsx)("input",{type:"date",value:d,onChange:e=>j(e.target.value),className:z.a.DateInput}),Object(p.jsx)("input",{type:"date",value:m,onChange:e=>u(e.target.value),className:z.a.DateInput}),Object(p.jsx)("button",{onClick:()=>{i(""),j(""),u(""),c(e)},className:z.a.ResetButton,children:"Reset Filters"})]}),Object(p.jsx)("div",{className:z.a.EventsContainer,children:a.length?a.map((e=>Object(p.jsx)(r.b,{to:"/events/".concat(e.id),className:z.a.EventCardLink,children:Object(p.jsxs)("div",{className:z.a.EventCard,children:[Object(p.jsx)("img",{src:e.image||"/default-event.jpg",alt:e.name}),Object(p.jsx)("h2",{children:e.name}),Object(p.jsx)("p",{children:e.description}),Object(p.jsxs)("p",{className:z.a.EventDate,children:[e.start_date," - ",e.end_date]})]})},e.id))):Object(p.jsx)("p",{children:"No events match your filters."})})]})},J=a(30),Y=a.n(J);var Q=()=>{const e=Object(l.f)(),t=t=>{e.push(t)};return Object(p.jsxs)("div",{className:Y.a.Container,children:[Object(p.jsx)("h1",{className:Y.a.Header,children:"Admin Panel"}),Object(p.jsxs)("div",{className:Y.a.Options,children:[Object(p.jsx)("div",{className:Y.a.OptionCard,onClick:()=>t("/admin/matches"),children:Object(p.jsx)("h2",{children:"Matches"})}),Object(p.jsx)("div",{className:Y.a.OptionCard,onClick:()=>t("/admin/events"),children:Object(p.jsx)("h2",{children:"Events"})}),Object(p.jsx)("div",{className:Y.a.OptionCard,onClick:()=>t("/admin/teams"),children:Object(p.jsx)("h2",{children:"Teams"})}),Object(p.jsx)("div",{className:Y.a.OptionCard,onClick:()=>t("/admin/players"),children:Object(p.jsx)("h2",{children:"Players"})})]})]})},V=a(2),K=a.n(V);const X=e=>{let{team:t,onSave:a,onCancel:c}=e;const[n,r]=Object(s.useState)(t||{name:"",description:"",logo:""}),[l,o]=Object(s.useState)(null),i=e=>{const{name:t,value:a}=e.target;r(Object(E.a)(Object(E.a)({},n),{},{[t]:a}))};return Object(p.jsxs)("div",{className:K.a.FormContainer,children:[Object(p.jsx)("h2",{className:K.a.FormHeader,children:t?"Edit Team":"Add New Team"}),Object(p.jsxs)("form",{className:K.a.Form,onSubmit:e=>{e.preventDefault(),a(n,l)},children:[Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Name:"}),Object(p.jsx)("input",{type:"text",name:"name",className:K.a.Input,value:n.name,onChange:i,required:!0})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Description:"}),Object(p.jsx)("textarea",{name:"description",className:K.a.Input,value:n.description,onChange:i})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Logo:"}),Object(p.jsx)("input",{type:"file",accept:"image/*",className:K.a.Input,onChange:e=>{o(e.target.files[0])}}),n.logo&&Object(p.jsx)("a",{href:n.logo,target:"_blank",rel:"noopener noreferrer",className:K.a.Link,children:"View Current Logo"})]}),Object(p.jsxs)("div",{className:K.a.ButtonGroup,children:[Object(p.jsx)("button",{className:K.a.Button,type:"submit",children:"Save"}),Object(p.jsx)("button",{className:"".concat(K.a.Button," ").concat(K.a.CancelButton),type:"button",onClick:c,children:"Cancel"})]})]})]})};var $=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)([]),[n,r]=Object(s.useState)(""),[l,o]=Object(s.useState)(!0),[i,d]=Object(s.useState)(!1),[j,m]=Object(s.useState)(null),[u,h]=Object(s.useState)(null),[b,x]=Object(s.useState)(null);Object(s.useEffect)((()=>{v()}),[]),Object(s.useEffect)((()=>{if(n.trim()){const t=n.toLowerCase();c(e.filter((e=>e.name.toLowerCase().includes(t)||String(e.id).includes(n))))}else c(e)}),[n,e]);const v=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"teams/";try{const{data:a}=await O.a.get(e);Array.isArray(a.results)?(t(a.results),c(a.results),h(a.next),x(a.previous)):(console.error("Unexpected response format:",a),t([]),c([]))}catch(a){console.error("Error fetching teams:",a.response||a.message),t([]),c([])}finally{o(!1)}};return l?Object(p.jsx)("div",{className:K.a.Container,children:"Loading..."}):Object(p.jsx)(p.Fragment,{children:i?Object(p.jsx)(X,{team:j,onSave:async(e,t)=>{try{let a=e.logo;if(t){const e=new FormData;e.append("file",t);const s=await O.a.post("/cloudinary-proxy/",e,{headers:{"Content-Type":"multipart/form-data"}});if(!s.data.secure_url)throw console.error("Cloudinary response missing secure_url:",s),new Error("Failed to retrieve the secure URL from Cloudinary.");a=s.data.secure_url}const s=Object(E.a)(Object(E.a)({},e),{},{logo:a||null});e.id?await O.a.put("teams/".concat(e.id,"/"),s):await O.a.post("teams/",s),v(),d(!1)}catch(a){console.error("Error saving team:",a.response||a.message)}},onCancel:()=>d(!1)}):Object(p.jsxs)("div",{className:K.a.Container,children:[Object(p.jsx)("h1",{className:K.a.Header,children:"Manage Teams"}),Object(p.jsxs)("div",{className:K.a.Controls,children:[Object(p.jsx)("button",{className:K.a.Button,onClick:()=>{m(null),d(!0)},children:"Add Team"}),Object(p.jsx)("input",{type:"text",className:K.a.SearchBar,placeholder:"Search by ID or Name",value:n,onChange:e=>r(e.target.value)})]}),Object(p.jsxs)("table",{className:K.a.Table,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{className:K.a.IdColumn,children:"ID"}),Object(p.jsx)("th",{className:K.a.NameColumn,children:"Name"}),Object(p.jsx)("th",{className:K.a.DescriptionColumn,children:"Description"}),Object(p.jsx)("th",{className:K.a.LogoColumn,children:"Logo"}),Object(p.jsx)("th",{className:K.a.ActionsColumn,children:"Actions"})]})}),Object(p.jsx)("tbody",{children:a.map((s=>Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:K.a.IdColumn,children:s.id}),Object(p.jsx)("td",{className:K.a.NameColumn,children:s.name}),Object(p.jsx)("td",{className:K.a.DescriptionColumn,children:s.description}),Object(p.jsx)("td",{className:K.a.LogoColumn,children:s.logo&&Object(p.jsx)("a",{href:s.logo,target:"_blank",rel:"noopener noreferrer",children:Object(p.jsx)("img",{src:s.logo,alt:s.name,className:K.a.Avatar})})}),Object(p.jsxs)("td",{className:K.a.ActionsColumn,children:[Object(p.jsx)("button",{className:K.a.Button,onClick:()=>(e=>{m(e),d(!0)})(s),children:"Edit"}),Object(p.jsx)("button",{className:"".concat(K.a.Button," ").concat(K.a.DeleteButton),onClick:()=>(async s=>{if(window.confirm("Are you sure you want to delete this team?"))try{await O.a.delete("teams/".concat(s,"/")),t(e.filter((e=>e.id!==s))),c(a.filter((e=>e.id!==s)))}catch(n){console.error("Error deleting team:",n.response||n.message)}})(s.id),children:"Delete"})]})]},s.id)))})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:K.a.Button,onClick:()=>{if(b){const e=b.replace(/^http:/,"https:");v(e)}},disabled:!b,children:"Previous"}),Object(p.jsx)("button",{className:K.a.Button,onClick:()=>{if(u){const e=u.replace(/^http:/,"https:");v(e)}},disabled:!u,children:"Next"})]})]})})};const ee=e=>{let{event:t,onSave:a,onCancel:c}=e;const[n,r]=Object(s.useState)(t||{name:"",description:"",start_date:"",end_date:"",image:""}),[l,o]=Object(s.useState)(null),i=e=>{const{name:t,value:a}=e.target;r(Object(E.a)(Object(E.a)({},n),{},{[t]:a}))};return Object(p.jsxs)("div",{className:K.a.FormContainer,children:[Object(p.jsx)("h2",{className:K.a.FormHeader,children:t?"Edit Event":"Add New Event"}),Object(p.jsxs)("form",{className:K.a.Form,onSubmit:e=>{e.preventDefault(),a(n,l)},children:[Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Name:"}),Object(p.jsx)("input",{type:"text",name:"name",className:K.a.Input,value:n.name,onChange:i,required:!0})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Description:"}),Object(p.jsx)("textarea",{name:"description",className:K.a.Input,value:n.description,onChange:i})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Start Date:"}),Object(p.jsx)("input",{type:"date",name:"start_date",className:K.a.Input,value:n.start_date,onChange:i,required:!0})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"End Date:"}),Object(p.jsx)("input",{type:"date",name:"end_date",className:K.a.Input,value:n.end_date,onChange:i,required:!0})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Image:"}),Object(p.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{o(e.target.files[0])}}),n.image&&Object(p.jsx)("a",{href:n.image,target:"_blank",rel:"noopener noreferrer",children:"View Current Image"})]}),Object(p.jsxs)("div",{className:K.a.ButtonGroup,children:[Object(p.jsx)("button",{className:K.a.Button,type:"submit",children:"Save"}),Object(p.jsx)("button",{className:"".concat(K.a.Button," ").concat(K.a.CancelButton),type:"button",onClick:c,children:"Cancel"})]})]})]})};var te=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)([]),[n,r]=Object(s.useState)(""),[l,o]=Object(s.useState)(!0),[i,d]=Object(s.useState)(!1),[j,m]=Object(s.useState)(null),[u,h]=Object(s.useState)(null),[b,x]=Object(s.useState)(null);Object(s.useEffect)((()=>{v()}),[]),Object(s.useEffect)((()=>{if(n.trim()){const t=n.toLowerCase();c(e.filter((e=>e.name.toLowerCase().includes(t)||String(e.id).includes(n))))}else c(e)}),[n,e]);const v=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"events/";try{const{data:a}=await O.a.get(e);Array.isArray(a.results)?(t(a.results),c(a.results),h(a.next),x(a.previous)):(console.error("Unexpected response format:",a),t([]),c([]))}catch(a){console.error("Error fetching events:",a.response||a.message),t([]),c([])}finally{o(!1)}};return l?Object(p.jsx)("div",{className:K.a.Container,children:"Loading..."}):Object(p.jsx)(p.Fragment,{children:i?Object(p.jsx)(ee,{event:j,onSave:async(e,t)=>{try{let a=e.image;if(t){const e=new FormData;e.append("file",t);const s=await O.a.post("/cloudinary-proxy/",e,{headers:{"Content-Type":"multipart/form-data"}});if(!s.data.secure_url)throw console.error("Cloudinary response missing secure_url:",s),new Error("Failed to retrieve the secure URL from Cloudinary.");a=s.data.secure_url}const s=Object(E.a)(Object(E.a)({},e),{},{image:a||null});e.id?await O.a.put("events/".concat(e.id),s):await O.a.post("events/",s),v(),d(!1)}catch(a){console.error("Error saving event:",a.response||a.message)}},onCancel:()=>d(!1)}):Object(p.jsxs)("div",{className:K.a.Container,children:[Object(p.jsx)("h1",{className:K.a.Header,children:"Manage Events"}),Object(p.jsxs)("div",{className:K.a.Controls,children:[Object(p.jsx)("button",{className:K.a.Button,onClick:()=>{m(null),d(!0)},children:"Add Event"}),Object(p.jsx)("input",{type:"text",className:K.a.SearchBar,placeholder:"Search by ID or Name",value:n,onChange:e=>r(e.target.value)})]}),Object(p.jsx)("div",{className:K.a.TableWrapper,children:Object(p.jsxs)("table",{className:"".concat(K.a.Table," ").concat(K.a.EventsTable),children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"ID"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Start Date"}),Object(p.jsx)("th",{children:"End Date"}),Object(p.jsx)("th",{children:"Image"}),Object(p.jsx)("th",{children:"Actions"})]})}),Object(p.jsx)("tbody",{children:a.map((s=>Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:s.id}),Object(p.jsx)("td",{children:s.name}),Object(p.jsx)("td",{children:s.start_date}),Object(p.jsx)("td",{children:s.end_date}),Object(p.jsx)("td",{children:s.image&&Object(p.jsx)("a",{href:s.image,target:"_blank",rel:"noopener noreferrer",children:Object(p.jsx)("img",{src:s.image,alt:s.name,className:K.a.Avatar})})}),Object(p.jsxs)("td",{children:[Object(p.jsx)("button",{className:K.a.Button,onClick:()=>(e=>{m(e),d(!0)})(s),children:"Edit"}),Object(p.jsx)("button",{className:"".concat(K.a.Button," ").concat(K.a.DeleteButton),onClick:()=>(async s=>{if(window.confirm("Are you sure you want to delete this event?"))try{await O.a.delete("events/".concat(s)),t(e.filter((e=>e.id!==s))),c(a.filter((e=>e.id!==s)))}catch(n){console.error("Error deleting event:",n.response||n.message)}})(s.id),children:"Delete"})]})]},s.id)))})]})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:K.a.Button,onClick:()=>{b&&v(b.replace(/^http:/,"https:"))},disabled:!b,children:"Previous"}),Object(p.jsx)("button",{className:K.a.Button,onClick:()=>{u&&v(u.replace(/^http:/,"https:"))},disabled:!u,children:"Next"})]})]})})};const ae=e=>{let{match:t,onSave:a,onCancel:c}=e;const[n,r]=Object(s.useState)(t||{event:"",team1:"",team2:"",scheduled_time:"",status:"upcoming",result:""}),[l,o]=Object(s.useState)([]),[i,d]=Object(s.useState)([]);Object(s.useEffect)((()=>{(async()=>{try{const[e,t]=await Promise.all([O.a.get("events/"),O.a.get("teams/")]);o(e.data.results||e.data),d(t.data.results||t.data)}catch(e){console.error("Error fetching options:",e.response||e.message)}})()}),[]);const j=e=>{const{name:t,value:a}=e.target;r(Object(E.a)(Object(E.a)({},n),{},{[t]:a}))};return Object(p.jsxs)("div",{className:K.a.FormContainer,children:[Object(p.jsx)("h2",{className:K.a.FormHeader,children:t?"Edit Match":"Add New Match"}),Object(p.jsxs)("form",{className:K.a.Form,onSubmit:e=>{e.preventDefault(),a(n)},children:[Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Event:"}),Object(p.jsxs)("select",{name:"event",className:K.a.Input,value:n.event,onChange:j,required:!0,children:[Object(p.jsx)("option",{value:"",children:"Select an Event"}),l.map((e=>Object(p.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Team 1:"}),Object(p.jsxs)("select",{name:"team1",className:K.a.Input,value:n.team1,onChange:j,required:!0,children:[Object(p.jsx)("option",{value:"",children:"Select Team 1"}),i.map((e=>Object(p.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Team 2:"}),Object(p.jsxs)("select",{name:"team2",className:K.a.Input,value:n.team2,onChange:j,required:!0,children:[Object(p.jsx)("option",{value:"",children:"Select Team 2"}),i.map((e=>Object(p.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Scheduled Time:"}),Object(p.jsx)("input",{type:"datetime-local",name:"scheduled_time",className:K.a.Input,value:n.scheduled_time,onChange:j,required:!0})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Status:"}),Object(p.jsxs)("select",{name:"status",className:K.a.Input,value:n.status,onChange:j,required:!0,children:[Object(p.jsx)("option",{value:"upcoming",children:"Upcoming"}),Object(p.jsx)("option",{value:"in_progress",children:"In Progress"}),Object(p.jsx)("option",{value:"completed",children:"Completed"})]})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Result:"}),Object(p.jsx)("input",{type:"text",name:"result",className:K.a.Input,value:n.result,onChange:j})]}),Object(p.jsxs)("div",{className:K.a.ButtonGroup,children:[Object(p.jsx)("button",{className:K.a.Button,type:"submit",children:"Save"}),Object(p.jsx)("button",{className:"".concat(K.a.Button," ").concat(K.a.CancelButton),type:"button",onClick:c,children:"Cancel"})]})]})]})};var se=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)([]),[n,r]=Object(s.useState)(""),[l,o]=Object(s.useState)(!0),[i,d]=Object(s.useState)(!1),[j,m]=Object(s.useState)(null),[u,h]=Object(s.useState)(null),[b,x]=Object(s.useState)(null);Object(s.useEffect)((()=>{v()}),[]),Object(s.useEffect)((()=>{if(n.trim()){const t=n.toLowerCase();c(e.filter((e=>e.team1_name.toLowerCase().includes(t)||e.team2_name.toLowerCase().includes(t)||e.event_name.toLowerCase().includes(t)||String(e.id).includes(n))))}else c(e)}),[n,e]);const v=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"matches/";try{const{data:a}=await O.a.get(e);Array.isArray(a.results)?(t(a.results),c(a.results),h(a.next),x(a.previous)):(console.error("Unexpected response format:",a),t([]),c([]))}catch(a){console.error("Error fetching matches:",a.response||a.message),t([]),c([])}finally{o(!1)}};return l?Object(p.jsx)("div",{className:K.a.Container,children:"Loading..."}):Object(p.jsx)(p.Fragment,{children:i?Object(p.jsx)(ae,{match:j,onSave:async e=>{try{e.id?await O.a.put("matches/".concat(e.id,"/"),e):await O.a.post("matches/",e),v(),d(!1)}catch(t){console.error("Error saving match:",t.response||t.message)}},onCancel:()=>d(!1)}):Object(p.jsxs)("div",{className:K.a.Container,children:[Object(p.jsx)("h1",{className:K.a.Header,children:"Manage Matches"}),Object(p.jsxs)("div",{className:K.a.Controls,children:[Object(p.jsx)("button",{className:K.a.Button,onClick:()=>{m(null),d(!0)},children:"Add Match"}),Object(p.jsx)("input",{type:"text",className:K.a.SearchBar,placeholder:"Search by ID, Team, or Event",value:n,onChange:e=>r(e.target.value)})]}),Object(p.jsx)("div",{className:K.a.TableWrapper,children:Object(p.jsxs)("table",{className:"".concat(K.a.Table," ").concat(K.a.MatchesTable),children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"ID"}),Object(p.jsx)("th",{children:"Event"}),Object(p.jsx)("th",{children:"Team 1"}),Object(p.jsx)("th",{children:"Team 2"}),Object(p.jsx)("th",{children:"Scheduled Time"}),Object(p.jsx)("th",{children:"Status"}),Object(p.jsx)("th",{children:"Result"}),Object(p.jsx)("th",{children:"Actions"})]})}),Object(p.jsx)("tbody",{children:a.map((s=>Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:s.id}),Object(p.jsx)("td",{children:s.event_name}),Object(p.jsx)("td",{children:s.team1_name}),Object(p.jsx)("td",{children:s.team2_name}),Object(p.jsx)("td",{children:s.scheduled_time}),Object(p.jsx)("td",{children:s.status}),Object(p.jsx)("td",{children:s.result||"N/A"}),Object(p.jsxs)("td",{children:[Object(p.jsx)("button",{className:K.a.Button,onClick:()=>(e=>{m(e),d(!0)})(s),children:"Edit"}),Object(p.jsx)("button",{className:"".concat(K.a.Button," ").concat(K.a.DeleteButton),onClick:()=>(async s=>{if(window.confirm("Are you sure you want to delete this match?"))try{await O.a.delete("matches/".concat(s)),t(e.filter((e=>e.id!==s))),c(a.filter((e=>e.id!==s)))}catch(n){console.error("Error deleting match:",n.response||n.message)}})(s.id),children:"Delete"})]})]},s.id)))})]})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:K.a.Button,onClick:()=>{b&&v(b.replace(/^http:/,"https:"))},disabled:!b,children:"Previous"}),Object(p.jsx)("button",{className:K.a.Button,onClick:()=>{u&&v(u.replace(/^http:/,"https:"))},disabled:!u,children:"Next"})]})]})})};const ce=e=>{let{player:t,onSave:a,onCancel:c}=e;const[n,r]=Object(s.useState)(t||{name:"",role:"",avatar:"",team:""}),[l,o]=Object(s.useState)(null),[i,d]=Object(s.useState)([]);Object(s.useEffect)((()=>{(async()=>{try{const e=await O.a.get("/teams/");d(e.data.results||e.data)}catch(e){console.error("Error fetching teams:",e.response||e.message)}})()}),[]);const j=e=>{const{name:t,value:a}=e.target;r(Object(E.a)(Object(E.a)({},n),{},{[t]:a}))};return Object(p.jsxs)("div",{className:K.a.FormContainer,children:[Object(p.jsx)("h2",{className:K.a.FormHeader,children:t?"Edit Player":"Add New Player"}),Object(p.jsxs)("form",{className:K.a.Form,onSubmit:e=>{e.preventDefault(),a(n,l)},children:[Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Name:"}),Object(p.jsx)("input",{type:"text",name:"name",className:K.a.Input,value:n.name,onChange:j,required:!0})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Role:"}),Object(p.jsx)("input",{type:"text",name:"role",className:K.a.Input,value:n.role,onChange:j,required:!0})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Avatar:"}),Object(p.jsx)("input",{type:"file",accept:"image/*",className:K.a.Input,onChange:e=>{o(e.target.files[0])}}),n.avatar&&Object(p.jsx)("a",{href:n.avatar,target:"_blank",rel:"noopener noreferrer",className:K.a.Link,children:"View Current Avatar"})]}),Object(p.jsxs)("div",{className:K.a.FormGroup,children:[Object(p.jsx)("label",{className:K.a.Label,children:"Team:"}),Object(p.jsxs)("select",{name:"team",className:K.a.Input,value:n.team,onChange:j,children:[Object(p.jsx)("option",{value:"",children:"Select a Team"}),i.map((e=>Object(p.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),Object(p.jsxs)("div",{className:K.a.ButtonGroup,children:[Object(p.jsx)("button",{className:K.a.Button,type:"submit",children:"Save"}),Object(p.jsx)("button",{className:"".concat(K.a.Button," ").concat(K.a.CancelButton),type:"button",onClick:c,children:"Cancel"})]})]})]})};var ne=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)([]),[n,r]=Object(s.useState)(""),[l,o]=Object(s.useState)(!0),[i,d]=Object(s.useState)(!1),[j,m]=Object(s.useState)(null),[u,h]=Object(s.useState)(null),[b,x]=Object(s.useState)(null);Object(s.useEffect)((()=>{v()}),[]),Object(s.useEffect)((()=>{if(n.trim()){const t=n.toLowerCase();c(e.filter((e=>e.name.toLowerCase().includes(t)||e.team_name.toLowerCase().includes(t)||String(e.id).includes(n))))}else c(e)}),[n,e]);const v=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"players/";try{const{data:a}=await O.a.get(e);Array.isArray(a.results)?(t(a.results),c(a.results),h(a.next),x(a.previous)):(console.error("Unexpected response format:",a),t([]),c([]))}catch(a){console.error("Error fetching players:",a.response||a.message),t([]),c([])}finally{o(!1)}};return l?Object(p.jsx)("div",{className:K.a.Container,children:"Loading..."}):Object(p.jsx)(p.Fragment,{children:i?Object(p.jsx)(ce,{player:j,onSave:async(e,t)=>{try{let a=e.avatar;if(t){const e=new FormData;e.append("file",t);const s=await O.a.post("/cloudinary-proxy/",e,{headers:{"Content-Type":"multipart/form-data"}});if(!s.data.secure_url)throw console.error("Cloudinary response missing secure_url:",s),new Error("Failed to retrieve the secure URL from Cloudinary.");a=s.data.secure_url}const s=Object(E.a)(Object(E.a)({},e),{},{avatar:a||null,team:e.team||null});e.id?await O.a.put("players/".concat(e.id,"/"),s):await O.a.post("players/",s),v(),d(!1)}catch(a){console.error("Error saving player:",a.response||a.message)}},onCancel:()=>d(!1)}):Object(p.jsxs)("div",{className:K.a.Container,children:[Object(p.jsx)("h1",{className:K.a.Header,children:"Manage Players"}),Object(p.jsx)("button",{className:K.a.Button,onClick:()=>{m(null),d(!0)},children:"Add Player"}),Object(p.jsx)("input",{type:"text",className:K.a.SearchBar,placeholder:"Search by ID, Name, or Team",value:n,onChange:e=>r(e.target.value)}),Object(p.jsxs)("table",{className:K.a.Table,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{className:K.a.IdColumn,children:"ID"}),Object(p.jsx)("th",{className:K.a.NameColumn,children:"Name"}),Object(p.jsx)("th",{className:K.a.RoleColumn,children:"Role"}),Object(p.jsx)("th",{className:K.a.AvatarColumn,children:"Avatar URL"}),Object(p.jsx)("th",{className:K.a.TeamColumn,children:"Team"}),Object(p.jsx)("th",{className:K.a.ActionsColumn,children:"Actions"})]})}),Object(p.jsx)("tbody",{children:a.map((s=>Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:K.a.IdColumn,children:s.id}),Object(p.jsx)("td",{className:K.a.NameColumn,children:s.name}),Object(p.jsx)("td",{className:K.a.RoleColumn,children:s.role}),Object(p.jsx)("td",{className:K.a.AvatarColumn,children:Object(p.jsx)("a",{href:s.avatar,target:"_blank",rel:"noopener noreferrer",children:Object(p.jsx)("img",{src:s.avatar,alt:s.name,className:K.a.Avatar})})}),Object(p.jsx)("td",{className:K.a.TeamColumn,children:s.team_name}),Object(p.jsxs)("td",{className:K.a.ActionsColumn,children:[Object(p.jsx)("button",{className:K.a.Button,onClick:()=>(e=>{m(e),d(!0)})(s),children:"Edit"}),Object(p.jsx)("button",{className:"".concat(K.a.Button," ").concat(K.a.DeleteButton),onClick:()=>(async s=>{if(window.confirm("Are you sure you want to delete this player?"))try{await O.a.delete("players/".concat(s,"/")),t(e.filter((e=>e.id!==s))),c(a.filter((e=>e.id!==s)))}catch(n){console.error("Error deleting player:",n.response||n.message)}})(s.id),children:"Delete"})]})]},s.id)))})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:K.a.Button,onClick:()=>{if(b){const e=b.replace(/^http:/,"https:");v(e)}},disabled:!b,children:"Previous"}),Object(p.jsx)("button",{className:K.a.Button,onClick:()=>{if(u){const e=u.replace(/^http:/,"https:");v(e)}},disabled:!u,children:"Next"})]})]})})},re=a(31),le=a.n(re);var oe=()=>{const{id:e}=Object(l.g)(),t=Object(l.f)(),[a,c]=Object(s.useState)(null),[n,r]=Object(s.useState)(!0);return Object(s.useEffect)((()=>{(async()=>{try{const{data:t}=await O.a.get("/events/".concat(e));c(t)}catch(t){console.error("Error fetching event:",t.response||t.message)}finally{r(!1)}})()}),[e]),n?Object(p.jsx)("p",{children:"Loading..."}):a?Object(p.jsxs)("div",{className:le.a.EventContainer,children:[Object(p.jsx)("h1",{className:le.a.EventTitle,children:a.name}),Object(p.jsx)("img",{src:a.image||"/default-event.jpg",alt:a.name,className:le.a.EventImage}),Object(p.jsx)("p",{className:le.a.EventDescription,children:a.description}),Object(p.jsxs)("div",{className:le.a.ActionContainer,children:[Object(p.jsx)("button",{className:le.a.BackButton,onClick:()=>t.push("/events"),children:"Back to Events"}),Object(p.jsx)("div",{children:Object(p.jsxs)("p",{className:le.a.EventDate,children:[a.start_date," - ",a.end_date]})})]})]}):Object(p.jsx)("p",{children:"Event not found."})},ie=a(24),de=a.n(ie);var je=()=>{const{id:e}=Object(l.g)(),t=Object(l.f)(),[a,c]=Object(s.useState)(null),[n,r]=Object(s.useState)(!0);return Object(s.useEffect)((()=>{(async()=>{try{const{data:t}=await O.a.get("/matches/".concat(e));c(t)}catch(t){console.error("Error fetching match:",t.response||t.message)}finally{r(!1)}})()}),[e]),n?Object(p.jsx)("p",{children:"Loading..."}):a?Object(p.jsxs)("div",{className:de.a.MatchContainer,children:[Object(p.jsxs)("h1",{className:de.a.MatchTitle,children:[a.team1_name," vs ",a.team2_name]}),Object(p.jsxs)("h3",{className:de.a.EventName,children:["Event: ",a.event_name]}),Object(p.jsxs)("p",{className:de.a.MatchDate,children:["Scheduled: ",a.scheduled_time]}),Object(p.jsxs)("p",{className:de.a.MatchStatus,children:["Status: ",Object(p.jsx)("span",{children:a.status})]}),a.result&&Object(p.jsxs)("p",{className:de.a.MatchResult,children:["Result: ",Object(p.jsx)("span",{children:a.result})]}),Object(p.jsx)("div",{className:de.a.ActionContainer,children:Object(p.jsx)("button",{className:de.a.BackButton,onClick:()=>t.push("/matches"),children:"Back to Matches"})})]}):Object(p.jsx)("p",{children:"Match not found."})};O.a.defaults.baseURL="https://8000-dimmanzo-ggezapi-rjnpmkx5aay.ws.codeinstitute-ide.net/",O.a.defaults.headers.post["Content-Type"]="multipart/form-data",O.a.defaults.withCredentials=!0,O.a.interceptors.request.use((e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}));O.a.create(),O.a.create();var me=a(14),ue=a.n(me);var he=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)([]),[n,l]=Object(s.useState)(!0),[o,i]=Object(s.useState)(""),[d,j]=Object(s.useState)(""),[m,u]=Object(s.useState)(""),[h,b]=Object(s.useState)("");Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await O.a.get("/matches/");t(e.results),c(e.results)}catch(e){console.error("Error fetching matches:",e)}finally{l(!1)}})()}),[]);const x=Object(s.useCallback)((()=>{let t=[...e];o.trim()&&(t=t.filter((e=>e.team1_name.toLowerCase().includes(o.toLowerCase())||e.team2_name.toLowerCase().includes(o.toLowerCase())))),h&&(t=t.filter((e=>e.status===h))),d&&(t=t.filter((e=>new Date(e.scheduled_time)>=new Date(d)))),m&&(t=t.filter((e=>new Date(e.scheduled_time)<=new Date(m)))),c(t)}),[e,o,h,d,m]);return Object(s.useEffect)((()=>{x()}),[x]),n?Object(p.jsx)("p",{children:"Loading..."}):Object(p.jsxs)("div",{className:ue.a.HomePage,children:[Object(p.jsx)("h1",{children:"Upcoming Matches"}),Object(p.jsxs)("div",{className:ue.a.FilterBar,children:[Object(p.jsx)("input",{type:"text",placeholder:"Search by team name...",value:o,onChange:e=>i(e.target.value),className:ue.a.SearchInput}),Object(p.jsxs)("select",{value:h,onChange:e=>b(e.target.value),className:ue.a.StatusSelect,children:[Object(p.jsx)("option",{value:"",children:"All Statuses"}),Object(p.jsx)("option",{value:"upcoming",children:"Upcoming"}),Object(p.jsx)("option",{value:"in_progress",children:"In Progress"}),Object(p.jsx)("option",{value:"completed",children:"Completed"})]}),Object(p.jsx)("input",{type:"date",value:d,onChange:e=>j(e.target.value),className:ue.a.DateInput}),Object(p.jsx)("input",{type:"date",value:m,onChange:e=>u(e.target.value),className:ue.a.DateInput}),Object(p.jsx)("button",{onClick:()=>{i(""),j(""),u(""),b(""),c(e)},className:ue.a.ResetButton,children:"Reset Filters"})]}),Object(p.jsx)("div",{className:ue.a.MatchesContainer,children:a.length?a.map((e=>Object(p.jsx)(r.b,{to:"/matches/".concat(e.id),className:ue.a.MatchCardLink,children:Object(p.jsxs)("div",{className:ue.a.MatchCard,children:[Object(p.jsx)("h3",{className:ue.a.EventName,children:e.event_name}),Object(p.jsxs)("p",{className:ue.a.Teams,children:[Object(p.jsx)("strong",{children:e.team1_name})," vs"," ",Object(p.jsx)("strong",{children:e.team2_name})]}),Object(p.jsxs)("p",{className:ue.a.MatchDate,children:["Date: ",e.scheduled_time]}),Object(p.jsxs)("p",{className:ue.a.MatchStatus,children:["Status: ",Object(p.jsx)("span",{children:e.status})]})]})},e.id))):Object(p.jsx)("p",{children:"No matches found."})})]})};var be=function(){const e=Object(l.f)(),t=g();return Object(s.useEffect)((()=>{(async()=>{const a=localStorage.getItem("accessToken");if(a){O.a.defaults.headers.common.Authorization="Bearer ".concat(a);try{const{data:e}=await O.a.get("/dj-rest-auth/user/");t(e)}catch(s){console.error("Failed to fetch user:",s),localStorage.removeItem("accessToken"),e.push("/signin")}}})()}),[t,e]),Object(p.jsx)(_,{children:Object(p.jsxs)("div",{className:d.a.App,children:[Object(p.jsx)(C,{}),Object(p.jsx)(o.a,{className:d.a.Main,children:Object(p.jsxs)(l.c,{children:[Object(p.jsx)(l.a,{exact:!0,path:"/",component:q}),Object(p.jsx)(l.a,{exact:!0,path:"/events",component:Z}),Object(p.jsx)(l.a,{path:"/events/:id",component:oe}),Object(p.jsx)(l.a,{exact:!0,path:"/matches",component:he}),Object(p.jsx)(l.a,{path:"/matches/:id",component:je}),Object(p.jsx)(l.a,{exact:!0,path:"/signin",component:G}),Object(p.jsx)(l.a,{exact:!0,path:"/signup",component:P}),Object(p.jsx)(l.a,{exact:!0,path:"/admin",component:Q}),Object(p.jsx)(l.a,{exact:!0,path:"/admin/teams",component:$}),Object(p.jsx)(l.a,{exact:!0,path:"/admin/events",component:te}),Object(p.jsx)(l.a,{exact:!0,path:"/admin/matches",component:se}),Object(p.jsx)(l.a,{exact:!0,path:"/admin/players",component:ne}),Object(p.jsx)(l.a,{render:()=>Object(p.jsx)("p",{children:"Page not found!"})})]})}),Object(p.jsx)(y,{})]})})};n.a.render(Object(p.jsx)(r.a,{children:Object(p.jsx)(_,{children:Object(p.jsx)(be,{})})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.34281dd5.chunk.js.map